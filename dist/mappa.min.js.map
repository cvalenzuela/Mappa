{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mappa.min.js","webpack:///webpack/bootstrap 533fed769714ff275b69","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","StaticMap","undefined","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_parseGeoJSON","options","init","pixels","scale","lat","lng","x","fromLngToPoint","width","y","fromLatToPoint","height","Math","PI","pow","zoom","log","tan","parseGeoJSON","arguments","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Leaflet","_TileMap2","_TileMap","_this","getPrototypeOf","script","style","_this2","map","L","center","inertia","tiles","tileLayer","addTo","on","ready","messages","canvasOverlay","_this3","opacity","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","appendChild","canvas","drawLayer","addLayer","_canvas","getContext","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","_len","args","Array","_key","containerPointToLatLng","getZoom","callback","_this4","setTimeout","onChange","off","console","warn","TileMap","_typeof","Symbol","iterator","obj","scriptTag","mappaDiv","document","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","body","setAttribute","elt","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","apply","floor","data","result","features","forEach","feature","f","eachFeature","push","geometry","coordinates","geometries","_Mapbox","keys","_Google","_Mapquest","_StaticMap","_Mapboxgl","_Leaflet","_Mapzen","_Tangram","_interopRequireWildcard","newObj","default","_tileMap2","tileMap","_staticMap2","staticMap","Mappa","assign","_options","userInput","el","option","_len2","_key2","Google","_StaticMap2","imgUrl","createImage","size","valid","indexOf","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","onChangeMetods","google","maps","Map","mapTypeId","maptype","styles","minZoom","OverlayView","getPanes","overlayLayer","draw","setMap","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","window","devicePixelRatio","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","removeListener","_Leaflet2","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","getCanvasContainer","getElementsByClassName","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticMap = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Static Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StaticMap = function () {\n  function StaticMap(options) {\n    _classCallCheck(this, StaticMap);\n\n    this.options = options;\n    this.init();\n  }\n\n  _createClass(StaticMap, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      !this.options.scale && (this.options.scale = 1);\n      if (this.options.scale == 2) {\n        this.options.pixels = 512;\n      }\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel(lat, lng) {\n      return {\n        x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width / (2 / this.options.scale),\n        y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height / (2 / this.options.scale)\n      };\n    }\n  }, {\n    key: 'fromLatToPoint',\n    value: function fromLatToPoint(l) {\n      return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (Math.PI - Math.log(Math.tan(Math.PI / 4 + l * Math.PI / 180 / 2)));\n    }\n  }, {\n    key: 'fromLngToPoint',\n    value: function fromLngToPoint(l) {\n      return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (l * Math.PI / 180 + Math.PI);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }]);\n\n  return StaticMap;\n}();\n\nexports.StaticMap = StaticMap;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Leaflet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // ----------- \n// Leaflet v1.0.3 \n// Reference: http://leafletjs.com/reference-1.0.3.html \n//-----------\n\nvar Leaflet = function (_TileMap) {\n  _inherits(Leaflet, _TileMap);\n\n  function Leaflet(options) {\n    _classCallCheck(this, Leaflet);\n\n    var _this = _possibleConstructorReturn(this, (Leaflet.__proto__ || Object.getPrototypeOf(Leaflet)).call(this, options));\n\n    _this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    _this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    _this.constructor.name == 'Leaflet' && _this.init();\n    return _this;\n  }\n\n  _createClass(Leaflet, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      this.map = L.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        inertia: false\n      });\n\n      if (!this.options.style) {\n        Leaflet.messages().tiles();\n        this.ready = true;\n      } else {\n        this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n        this.tiles.on('tileload', function () {\n          _this2.ready = true;\n        });\n      }\n      this.canvasOverlay();\n    }\n  }, {\n    key: 'canvasOverlay',\n    value: function canvasOverlay() {\n      var _this3 = this;\n\n      if (this.tiles) {\n        this.tiles.options.opacity = this.options.opacity;\n      }\n\n      L.overlay = L.Layer.extend({\n        onAdd: function onAdd() {\n          var overlayPane = overlay.getPane();\n          var _container = L.DomUtil.create('div', 'leaflet-layer');\n          _container.appendChild(_this3.canvas);\n          overlayPane.appendChild(_container);\n        },\n        drawLayer: function drawLayer() {}\n      });\n\n      var overlay = new L.overlay();\n      this.map.addLayer(overlay);\n\n      var _canvas = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n\n      this.map.on('move', function () {\n        var d = _this3.map.dragging._draggable;\n        d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        var containerPoint = this.map.latLngToContainerPoint(position);\n        return { x: containerPoint.x, y: containerPoint.y };\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.containerPointToLatLng(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this4 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('move', callback);\n      } else {\n        setTimeout(function () {\n          _this4.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      this.map.off('move', callback);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        tiles: function tiles() {\n          console.warn('You are not using any tiles for your map. Try with: http://{s}.tile.osm.org/{z}/' + '{x}/{y}.png');\n        }\n      };\n    }\n  }]);\n\n  return Leaflet;\n}(_TileMap2.TileMap);\n\nexports.Leaflet = Leaflet;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TileMap = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Tiled Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TileMap = function () {\n  function TileMap(options) {\n    _classCallCheck(this, TileMap);\n\n    this.options = options;\n    this.scriptTag;\n    this.mappaDiv = null;\n  }\n\n  _createClass(TileMap, [{\n    key: 'init',\n    value: function init() {\n      if (!document.getElementById(this.options.provider)) {\n        this.scriptTag = document.createElement('script');\n        this.scriptTag.type = 'text/javascript';\n        this.scriptTag.src = this.script;\n        this.scriptTag.id = this.options.provider;\n        document.head.appendChild(this.scriptTag);\n        if (this.style) {\n          var styleTag = document.createElement('link');\n          styleTag.rel = 'stylesheet';\n          styleTag.href = this.style;\n          document.head.appendChild(styleTag);\n        }\n      }\n    }\n  }, {\n    key: 'overlay',\n    value: function overlay(canvas, callback) {\n      var _this = this;\n\n      this.scriptTag.onload = function () {\n        _this.mappaDiv = document.createElement('div');\n        document.body.appendChild(_this.mappaDiv);\n        _this.mappaDiv.setAttribute('style', 'position:relative;width:' + canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:10');\n        _this.mappaDiv.setAttribute('id', 'mappa');\n        canvas.elt != undefined ? _this.canvas = canvas.elt : _this.canvas = canvas;\n        _this.createMap();\n        callback && callback();\n      };\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel() {\n      var pos = void 0;\n      _typeof(arguments.length <= 0 ? undefined : arguments[0]) == 'object' ? pos = arguments.length <= 0 ? undefined : arguments[0] : pos = { lat: Number(arguments.length <= 0 ? undefined : arguments[0]), lng: Number(arguments.length <= 1 ? undefined : arguments[1]) };\n      return this.fromLatLngtoPixel(pos);\n    }\n  }, {\n    key: 'pixelToLatLng',\n    value: function pixelToLatLng() {\n      return this.fromPointToLatLng.apply(this, arguments);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom() {\n      return Math.floor(this.getZoom());\n    }\n  }]);\n\n  return TileMap;\n}();\n\nexports.TileMap = TileMap;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// -----------\n// Parse a GeoJSON file.\n// -----------\n\nvar parseGeoJSON = function parseGeoJSON(data, type) {\n  var result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function (feature) {\n        var f = eachFeature(feature, type);\n        f != undefined && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n};\n\nvar eachFeature = function eachFeature(feature, type) {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach(function (geometry) {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n};\n\nexports.parseGeoJSON = parseGeoJSON;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapbox = __webpack_require__(8);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(7);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Mapquest = __webpack_require__(9);\n\nObject.keys(_Mapquest).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapquest[key];\n    }\n  });\n});\n\nvar _StaticMap = __webpack_require__(0);\n\nObject.keys(_StaticMap).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _StaticMap[key];\n    }\n  });\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapboxgl = __webpack_require__(12);\n\nObject.keys(_Mapboxgl).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapboxgl[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(10);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Leaflet = __webpack_require__(1);\n\nObject.keys(_Leaflet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Leaflet[key];\n    }\n  });\n});\n\nvar _Mapbox = __webpack_require__(11);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Mapzen = __webpack_require__(13);\n\nObject.keys(_Mapzen).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapzen[key];\n    }\n  });\n});\n\nvar _Tangram = __webpack_require__(14);\n\nObject.keys(_Tangram).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Tangram[key];\n    }\n  });\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/mappa\n*\n* Cristbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tileMap2 = __webpack_require__(5);\n\nvar _tileMap = _interopRequireWildcard(_tileMap2);\n\nvar _staticMap2 = __webpack_require__(4);\n\nvar _staticMap = _interopRequireWildcard(_staticMap2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nvar Mappa = function () {\n  function Mappa(provider, key) {\n    _classCallCheck(this, Mappa);\n\n    this.provider = provider;\n    this.key = key;\n  }\n\n  _createClass(Mappa, [{\n    key: 'staticMap',\n    value: function staticMap() {\n      var options = {};\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        var _options = _staticMap[this.provider].options().userInput;\n        args.forEach(function (el, i) {\n          var option = _options[i];\n          options[option] = el;\n        });\n      };\n      options.key = this.key;\n      this.provider == undefined && (this.provider = 'StaticMap');\n      return new _staticMap[this.provider](options);\n    }\n  }, {\n    key: 'tileMap',\n    value: function tileMap() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var options = {};\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        ['lat', 'lng', 'zoom'].forEach(function (el, i) {\n          options[el] = args[i];\n        });\n      };\n      options.key = this.key;\n      options.provider = this.provider;\n      return new _tileMap[this.provider](options);\n    }\n  }]);\n\n  return Mappa;\n}();\n\nmodule.exports = Mappa;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nvar Google = function (_StaticMap) {\n  _inherits(Google, _StaticMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 640) {\n        Google.messages().size('width', this.options.width);\n        this.options.width = 640;\n      }\n      if (this.options.height > 640) {\n        Google.messages().size('height', this.options.height);\n        this.options.height = 640;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      !this.options.key && delete this.options.key && Google.messages().key();\n\n      this.options.size = this.options.width + 'x' + this.options.height;\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n      !this.options.scale && (this.options.scale = 1);\n\n      for (var option in this.options) {\n        Google.options().valid.indexOf(option) > -1 && (this.imgUrl += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Google Maps Static API max ' + s + ' value is 640px. For larger images, change the scale to 2 and keep the ' + s + ' between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('For large requests please provide an API key for your Google Maps Static API.');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_StaticMap2.StaticMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nvar Mapbox = function (_StaticMap) {\n  _inherits(Mapbox, _StaticMap);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      !this.options.scale && (this.options.scale = 1);\n      if (this.options.scale == 2) {\n        this.options.pixels = 512;\n      } else {\n        if (this.options.width > 1280) {\n          Mapbox.messages().size('width', this.options.width);\n          this.options.width = 1280;\n        }\n        if (this.options.height > 1280) {\n          Mapbox.messages().size('height', this.options.width);\n          this.options.height = 1280;\n        }\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Mapbox.messages().key();\n        return;\n      }\n      this.options.username != undefined ? this.imgUrl += this.options.username + '/' : this.imgUrl += 'mapbox/';\n      this.options.style != undefined ? this.imgUrl += this.options.style + '/' : this.imgUrl += 'streets-v10/';\n      this.imgUrl += 'static/';\n      this.options.overlay != undefined && (this.imgUrl += this.options.overlay + '/');\n      this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n      this.options.auto == false || this.options.auto == undefined ? ['zoom', 'bearing', 'pitch'].forEach(function (e, i) {\n        _this2.options[e] != undefined ? _this2.imgUrl += _this2.options[e] : _this2.imgUrl += 0;\n        i < 2 && (_this2.imgUrl += ',');\n      }) : this.imgUrl += 'auto';\n      this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n      this.options.scale == 2 && (this.imgUrl += '@2x');\n      this.imgUrl += '?access_token=' + this.options.key;\n      this.options.attribution ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n      this.options.logo ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n      this.options.before_layer ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          return console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapbox Static API max ' + s + ' value is 1280px. If you want a large image change the scale to 2.');\n        },\n        key: function key() {\n          console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_StaticMap2.StaticMap);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapquest = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nvar Mapquest = function (_StaticMap) {\n  _inherits(Mapquest, _StaticMap);\n\n  function Mapquest(options) {\n    _classCallCheck(this, Mapquest);\n\n    var _this = _possibleConstructorReturn(this, (Mapquest.__proto__ || Object.getPrototypeOf(Mapquest)).call(this, options));\n\n    _this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapquest, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 1920) {\n        Mapquest.messages().size('width', this.options.width);\n        this.options.width = 1920;\n      }\n      if (this.options.height > 1920) {\n        Mapquest.messages().size('height', this.options.height);\n        this.options.height = 1920;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      if (!this.options.key) {\n        Mapquest.messages().key();\n        return;\n      }\n\n      this.options.size = this.options.width + ',' + this.options.height;\n      this.options.scale == 2 && (this.options.size += '@2x');\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n      for (var option in this.options) {\n        Mapquest.options().valid.indexOf(option) > -1 && (this.imgUrl += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['key', 'size', 'zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapquest Static API max ' + s + ' value is 1920px. For larger images, change the scale to 2 and keep the ' + s + ' between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/');\n        }\n      };\n    }\n  }]);\n\n  return Mapquest;\n}(_StaticMap2.StaticMap);\n\nexports.Mapquest = Mapquest;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nvar Google = function (_TileMap) {\n  _inherits(Google, _TileMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.script = 'https://maps.googleapis.com/maps/api/js';\n    _this.options.key && (_this.script += '?key=' + _this.options.key);\n    _this.options.language && (_this.script += '&language=' + _this.options.language);\n    _this.options.region && (_this.script += '&region=' + _this.options.region);\n    _this.onChangeMetods = {};\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      !this.options.key && Google.messages().key();\n\n      this.map = new google.maps.Map(document.getElementById('mappa'), {\n        center: { lat: this.options.lat, lng: this.options.lng },\n        zoom: this.options.zoom || 6,\n        mapTypeId: this.options.maptype || 'terrain',\n        styles: this.options.styles || '',\n        minZoom: 1 || this.options.minZoom\n      });\n\n      var overlay = new google.maps.OverlayView();\n      overlay.onAdd = function () {\n        overlay.getPanes().overlayLayer.appendChild(_this2.canvas);\n      };\n      overlay.draw = function () {};\n      overlay.setMap(this.map);\n\n      google.maps.event.addListener(this.map, 'bounds_changed', function () {\n        var center = overlay.getProjection().fromLatLngToDivPixel(_this2.map.getCenter());\n        var pixels = void 0;\n        window.devicePixelRatio >= 2 ? pixels = 4 : pixels = 2;\n        var offsetX = -Math.round(_this2.canvas.width / pixels - center.x);\n        var offsetY = -Math.round(_this2.canvas.height / pixels - center.y);\n        var _canvas = _this2.canvas.getContext('webgl') || _this2.canvas.getContext('2d');\n        _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n      });\n\n      google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        position = new google.maps.LatLng(position);\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = this.map.getProjection().fromLatLngToPoint(position);\n        return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = new google.maps.Point((arguments.length <= 0 ? undefined : arguments[0]) / scale + bottomLeft.x, (arguments.length <= 1 ? undefined : arguments[1]) / scale + topRight.y);\n        var latlng = this.map.getProjection().fromPointToLatLng(point);\n        return { lat: latlng.lat(), lng: latlng.lng() };\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.onChangeMetods[callback] = google.maps.event.addListener(this.map, 'bounds_changed', callback);\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      google.maps.event.removeListener(this.onChangeMetods[callback]);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_TileMap2.TileMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nvar Mapbox = function (_Leaflet) {\n  _inherits(Mapbox, _Leaflet);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    _this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.mapbox.accessToken = this.options.key;\n      } else {\n        Mapbox.messages().key();\n        return;\n      }\n\n      // Create a Mapbox Map\n      this.map = L.mapbox.map('mappa').setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      this.options.studio ? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n      this.tiles.on('ready', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_Leaflet2.Leaflet);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapboxgl = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nvar Mapboxgl = function (_TileMap) {\n  _inherits(Mapboxgl, _TileMap);\n\n  function Mapboxgl(options) {\n    _classCallCheck(this, Mapboxgl);\n\n    var _this = _possibleConstructorReturn(this, (Mapboxgl.__proto__ || Object.getPrototypeOf(Mapboxgl)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    _this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    !_this.options.key ? Mapboxgl.messages().key() : _this.init();\n    return _this;\n  }\n\n  _createClass(Mapboxgl, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      mapboxgl.accessToken = this.options.key;\n      this.map = new mapboxgl.Map({\n        container: 'mappa',\n        style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n        center: [this.options.lng, this.options.lat],\n        zoom: this.options.zoom,\n        minZoom: this.options.minZoom || 0,\n        maxZoom: this.options.maxZoom || 22,\n        bearing: this.options.bearing || 0,\n        pitch: this.options.pitch || 0,\n        renderWorldCopies: true && this.options.renderWorldCopies,\n        maxBounds: this.options.maxBounds || undefined\n      });\n\n      this.map.getCanvasContainer().appendChild(this.canvas);\n      this.canvas.style.position = 'relative';\n      this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n      this.map.on('load', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(latLng) {\n      if (this.ready) {\n        return this.map.project(latLng);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.unproject(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('render', callback);\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      this.map.off('render', callback);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/');\n        }\n      };\n    }\n  }]);\n\n  return Mapboxgl;\n}(_TileMap2.TileMap);\n\nexports.Mapboxgl = Mapboxgl;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapzen = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nvar Mapzen = function (_Leaflet) {\n  _inherits(Mapzen, _Leaflet);\n\n  function Mapzen(options) {\n    _classCallCheck(this, Mapzen);\n\n    var _this = _possibleConstructorReturn(this, (Mapzen.__proto__ || Object.getPrototypeOf(Mapzen)).call(this, options));\n\n    _this.script = 'https://mapzen.com/js/mapzen.min.js';\n    _this.style = 'https://mapzen.com/js/mapzen.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapzen, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.Mapzen.apiKey = this.options.key;\n      } else {\n        Mapzen.messages().key();\n        return;\n      }\n\n      // Create a Mapzen Map\n      this.map = L.Mapzen.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        tangramOptions: {\n          scene: this.options.BasemapStyles ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene\n        }\n      });\n      this.map.on('tangramloaded', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Mapzen;\n}(_Leaflet2.Leaflet);\n\nexports.Mapzen = Mapzen;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tangram = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nvar Tangram = function (_Leaflet) {\n  _inherits(Tangram, _Leaflet);\n\n  function Tangram(options) {\n    _classCallCheck(this, Tangram);\n\n    var _this = _possibleConstructorReturn(this, (Tangram.__proto__ || Object.getPrototypeOf(Tangram)).call(this, options));\n\n    _this.options.provider = 'Leaflet';\n    _this.init();\n    _this.options.provider = 'Tangram';\n    _this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Tangram, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      // Create a Tangram Map\n      this.map = L.map('mappa');\n      this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n      });\n      this.tangramScene.addTo(this.map);\n      this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n      this.tangramScene.scene.subscribe({ load: function load() {\n          _this2.ready = true;\n        } });\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Tangram;\n}(_Leaflet2.Leaflet);\n\nexports.Tangram = Tangram;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mappa.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 533fed769714ff275b69","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n    this.init();\n  }\n\n  init(){\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } \n  }\n\n  latLngToPixel(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2 / this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2 / this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / Math.PI) * Math.pow(2, this.options.zoom)) * (Math.PI - Math.log(Math.tan(Math.PI / 4 + (l* Math.PI / 180) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / Math.PI) * Math.pow(2, this.options.zoom)) * ((l* Math.PI / 180) + Math.PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// ----------- \n// Leaflet v1.0.3 \n// Reference: http://leafletjs.com/reference-1.0.3.html \n//-----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options) {\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap() {\n    this.map = L.map('mappa', {\n      center: [\n        this.options.lat, this.options.lng\n      ],\n      zoom: this.options.zoom,\n      inertia: false\n    });\n\n    if (!this.options.style) {\n      Leaflet.messages().tiles();\n      this.ready = true;\n    } else {\n      this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n      this.tiles.on('tileload', () => {\n        this.ready = true;\n      });\n    }\n    this.canvasOverlay();\n  }\n\n  canvasOverlay() {\n    if (this.tiles) {\n      this.tiles.options.opacity = this.options.opacity;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {}\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if (this.ready) {\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return { x: containerPoint.x, y: containerPoint.y };\n    } else {\n      return { x: -100, y: -100 };\n    }\n  }\n\n  fromPointToLatLng(...args) {\n    if (this.ready) {\n      return this.map.containerPointToLatLng(args);\n    } else {\n      return { lat: -100, lng: -100 };\n    }\n  }\n\n  getZoom() {\n    if (this.ready) {\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if (this.ready) {\n      callback();\n      this.map.on('move', callback);\n    } else {\n      setTimeout(() => {\n        this.onChange(callback);\n      }, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    this.map.off('move', callback);\n  }\n\n  static messages() {\n    return {\n      tiles: () => {\n        console.warn('You are not using any tiles for your map. Try with: http://{s}.tile.osm.org/{z}/' +\n          '{x}/{y}.png')\n      }\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n    this.mappaDiv = null;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  overlay(canvas, callback){\n    this.scriptTag.onload = () => {\n      this.mappaDiv = document.createElement('div');\n      document.body.appendChild(this.mappaDiv);\n      this.mappaDiv.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:10');\n      this.mappaDiv.setAttribute('id', 'mappa');\n      canvas.elt != undefined ? this.canvas = canvas.elt : this.canvas = canvas;\n      this.createMap();\n      callback && callback();\n    };\n  }\n\n  latLngToPixel(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  pixelToLatLng(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\nexport * from './providers/static/StaticMap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/mappa\n*\n* Cristbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n    this.provider == undefined && (this.provider = 'StaticMap');\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.imgUrl += this.options.username + '/': this.imgUrl += 'mapbox/';\n    (this.options.style != undefined) ? this.imgUrl += this.options.style + '/': this.imgUrl += 'streets-v10/';\n    this.imgUrl += 'static/';\n    (this.options.overlay != undefined) && (this.imgUrl += this.options.overlay + '/');\n    this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.imgUrl += this.options[e] : this.imgUrl += 0;\n      i < 2 && (this.imgUrl += ',');\n    }) : this.imgUrl += 'auto';\n    this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.imgUrl += '@2x');\n    this.imgUrl += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n    (this.options.logo) ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n    (this.options.before_layer) ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n    return this.imgUrl\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.onChangeMetods = {};\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n      minZoom: 1 || this.options.minZoom\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas);\n    }\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let pixels;\n      (window.devicePixelRatio >= 2) ? pixels = 4 : pixels = 2;\n      let offsetX = - Math.round(this.canvas.width / pixels - center.x);\n      let offsetY = - Math.round(this.canvas.height / pixels - center.y);\n      let _canvas = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.onChangeMetods[callback] = google.maps.event.addListener(this.map, 'bounds_changed', callback);\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    google.maps.event.removeListener(this.onChangeMetods[callback]);\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n\n    this.map.getCanvasContainer().appendChild(this.canvas)\n    this.canvas.style.position = 'relative';\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', callback);\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  removeOnChange(callback){\n    this.map.off('render', callback);\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}