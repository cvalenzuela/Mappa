{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mappa.min.js","webpack:///webpack/bootstrap 3d318f87b1c236deee32","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","StaticMap","undefined","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_parseGeoJSON","options","init","pixels","scale","width","height","lat","lng","x","fromLngToPoint","y","fromLatToPoint","PI","pow","zoom","log","tan","radians","parseGeoJSON","arguments","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","Leaflet","_TileMap2","_TileMap","_this","getPrototypeOf","script","style","_this2","messages","tiles","map","L","center","inertia","tileLayer","addTo","on","ready","canvasOverlay","_this3","opacity","document","getElementsByClassName","background","backgroundColor","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","appendChild","canvas","elt","drawLayer","addLayer","_canvas","getContext","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","_len","args","Array","_key","containerPointToLatLng","getZoom","callback","_this4","setTimeout","onChange","console","warn","TileMap","_typeof","Symbol","iterator","obj","scriptTag","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","apply","Math","floor","data","result","features","forEach","feature","f","eachFeature","push","geometry","coordinates","geometries","_Mapbox","keys","_Google","_Mapquest","_StaticMap","_Mapboxgl","_Leaflet","_Mapzen","_Tangram","_interopRequireWildcard","newObj","default","_tileMap2","tileMap","_staticMap2","staticMap","Mappa","assign","_options","userInput","el","option","_len2","_key2","Google","_StaticMap2","imgUrl","createImage","size","valid","indexOf","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","google","maps","Map","mapTypeId","maptype","styles","OverlayView","draw","setMap","getPanes","overlayLayer","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","_Leaflet2","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","minZoom","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","parent","getCanvasContainer","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","window","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticMap = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Static Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StaticMap = function () {\n  function StaticMap(options) {\n    _classCallCheck(this, StaticMap);\n\n    this.options = options;\n    this.init();\n  }\n\n  _createClass(StaticMap, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      !this.options.scale && (this.options.scale = 1);\n      if (this.options.scale == 2) {\n        this.options.pixels = 512;\n      } else {\n        if (this.options.width > 1280) {\n          this.options.width = 1280;\n        }\n        if (this.options.height > 1280) {\n          this.options.height = 1280;\n        }\n      }\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel(lat, lng) {\n      return {\n        x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width / (2 / this.options.scale),\n        y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height / (2 / this.options.scale)\n      };\n    }\n  }, {\n    key: 'fromLatToPoint',\n    value: function fromLatToPoint(l) {\n      return this.options.pixels / PI * pow(2, this.options.zoom) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n    }\n  }, {\n    key: 'fromLngToPoint',\n    value: function fromLngToPoint(l) {\n      return this.options.pixels / PI * pow(2, this.options.zoom) * (radians(l) + PI);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }]);\n\n  return StaticMap;\n}();\n\nexports.StaticMap = StaticMap;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Leaflet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nvar Leaflet = function (_TileMap) {\n  _inherits(Leaflet, _TileMap);\n\n  function Leaflet(options) {\n    _classCallCheck(this, Leaflet);\n\n    var _this = _possibleConstructorReturn(this, (Leaflet.__proto__ || Object.getPrototypeOf(Leaflet)).call(this, options));\n\n    _this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    _this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    _this.constructor.name == 'Leaflet' && _this.init();\n    return _this;\n  }\n\n  _createClass(Leaflet, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      // Check this when not using a map in the background\n      if (!this.options.style) {\n        Leaflet.messages().tiles();\n        return;\n      }\n\n      this.map = L.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        inertia: false\n      });\n\n      this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n      this.tiles.on('tileload', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }, {\n    key: 'canvasOverlay',\n    value: function canvasOverlay() {\n      var _this3 = this;\n\n      if (this.tiles) {\n        this.tiles.options.opacity = this.options.opacity;\n        // Add this to documentation -> background color of the map.\n        document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n      }\n\n      L.overlay = L.Layer.extend({\n        onAdd: function onAdd() {\n          var overlayPane = overlay.getPane();\n          var _container = L.DomUtil.create('div', 'leaflet-layer');\n          _container.appendChild(_this3.canvas.elt);\n          overlayPane.appendChild(_container);\n        },\n        drawLayer: function drawLayer() {}\n      });\n\n      var overlay = new L.overlay();\n      this.map.addLayer(overlay);\n\n      var _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      this.map.on('move', function () {\n        var d = _this3.map.dragging._draggable;\n        d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        var containerPoint = this.map.latLngToContainerPoint(position);\n        return { x: containerPoint.x, y: containerPoint.y };\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.containerPointToLatLng(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this4 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('move', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this4.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        tiles: function tiles() {\n          console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png');\n        }\n      };\n    }\n  }]);\n\n  return Leaflet;\n}(_TileMap2.TileMap);\n\nexports.Leaflet = Leaflet;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TileMap = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Tiled Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TileMap = function () {\n  function TileMap(options) {\n    _classCallCheck(this, TileMap);\n\n    this.options = options;\n    this.scriptTag;\n  }\n\n  _createClass(TileMap, [{\n    key: 'init',\n    value: function init() {\n      if (!document.getElementById(this.options.provider)) {\n        this.scriptTag = document.createElement('script');\n        this.scriptTag.type = 'text/javascript';\n        this.scriptTag.src = this.script;\n        this.scriptTag.id = this.options.provider;\n        document.head.appendChild(this.scriptTag);\n        if (this.style) {\n          var styleTag = document.createElement('link');\n          styleTag.rel = 'stylesheet';\n          styleTag.href = this.style;\n          document.head.appendChild(styleTag);\n        }\n      }\n    }\n  }, {\n    key: 'overlay',\n    value: function overlay(canvas) {\n      var _this = this;\n\n      this.scriptTag.onload = function () {\n        var div = document.createElement('div');\n        document.body.appendChild(div);\n        div.setAttribute('style', 'position:relative;width:' + canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n        div.setAttribute('id', 'mappa');\n        _this.canvas = canvas;\n        _this.createMap();\n      };\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel() {\n      var pos = void 0;\n      _typeof(arguments.length <= 0 ? undefined : arguments[0]) == 'object' ? pos = arguments.length <= 0 ? undefined : arguments[0] : pos = { lat: Number(arguments.length <= 0 ? undefined : arguments[0]), lng: Number(arguments.length <= 1 ? undefined : arguments[1]) };\n      return this.fromLatLngtoPixel(pos);\n    }\n  }, {\n    key: 'pixelToLatLng',\n    value: function pixelToLatLng() {\n      return this.fromPointToLatLng.apply(this, arguments);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom() {\n      return Math.floor(this.getZoom());\n    }\n  }]);\n\n  return TileMap;\n}();\n\nexports.TileMap = TileMap;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// -----------\n// Parse a GeoJSON file.\n// -----------\n\nvar parseGeoJSON = function parseGeoJSON(data, type) {\n  var result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function (feature) {\n        var f = eachFeature(feature, type);\n        f != undefined && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n};\n\nvar eachFeature = function eachFeature(feature, type) {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach(function (geometry) {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n};\n\nexports.parseGeoJSON = parseGeoJSON;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapbox = __webpack_require__(8);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(7);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Mapquest = __webpack_require__(9);\n\nObject.keys(_Mapquest).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapquest[key];\n    }\n  });\n});\n\nvar _StaticMap = __webpack_require__(0);\n\nObject.keys(_StaticMap).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _StaticMap[key];\n    }\n  });\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapboxgl = __webpack_require__(12);\n\nObject.keys(_Mapboxgl).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapboxgl[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(10);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Leaflet = __webpack_require__(1);\n\nObject.keys(_Leaflet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Leaflet[key];\n    }\n  });\n});\n\nvar _Mapbox = __webpack_require__(11);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Mapzen = __webpack_require__(13);\n\nObject.keys(_Mapzen).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapzen[key];\n    }\n  });\n});\n\nvar _Tangram = __webpack_require__(14);\n\nObject.keys(_Tangram).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Tangram[key];\n    }\n  });\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tileMap2 = __webpack_require__(5);\n\nvar _tileMap = _interopRequireWildcard(_tileMap2);\n\nvar _staticMap2 = __webpack_require__(4);\n\nvar _staticMap = _interopRequireWildcard(_staticMap2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nvar Mappa = function () {\n  function Mappa(provider, key) {\n    _classCallCheck(this, Mappa);\n\n    this.provider = provider;\n    this.key = key;\n  }\n\n  _createClass(Mappa, [{\n    key: 'staticMap',\n    value: function staticMap() {\n      var options = {};\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        var _options = _staticMap[this.provider].options().userInput;\n        args.forEach(function (el, i) {\n          var option = _options[i];\n          options[option] = el;\n        });\n      };\n      options.key = this.key;\n\n      this.provider == undefined && (this.provider = 'StaticMap');\n      return new _staticMap[this.provider](options);\n    }\n  }, {\n    key: 'tileMap',\n    value: function tileMap() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var options = void 0;\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        ['lat', 'lng', 'zoom'].forEach(function (el, i) {\n          options[el] = args[i];\n        });\n      };\n      options.key = this.key;\n      options.provider = this.provider;\n      return new _tileMap[this.provider](options);\n    }\n  }]);\n\n  return Mappa;\n}();\n\nmodule.exports = Mappa;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nvar Google = function (_StaticMap) {\n  _inherits(Google, _StaticMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    _this.init();\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 640) {\n        Google.messages().size('width', this.options.width);\n        this.options.width = 640;\n      }\n      if (this.options.height > 640) {\n        Google.messages().size('height', this.options.height);\n        this.options.height = 640;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      !this.options.key && delete this.options.key && Google.messages().key();\n\n      this.options.size = this.options.width + 'x' + this.options.height;\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n      !this.options.scale && (this.options.scale = 1);\n\n      for (var option in this.options) {\n        Google.options().valid.indexOf(option) > -1 && (this.imgUrl += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Google Maps Static API max ' + s + ' value is 640px. For larger images, change the scale to 2 and keep the ' + s + ' between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('For large requests please provide an API key for your Google Maps Static API.');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_StaticMap2.StaticMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nvar Mapbox = function (_StaticMap) {\n  _inherits(Mapbox, _StaticMap);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    _this.init();\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      !this.options.scale && (this.options.scale = 1);\n      if (this.options.scale == 2) {\n        this.options.pixels = 512;\n      } else {\n        if (this.options.width > 1280) {\n          Mapbox.messages().size('width', this.options.width);\n          this.options.width = 1280;\n        }\n        if (this.options.height > 1280) {\n          Mapbox.messages().size('height', this.options.width);\n          this.options.height = 1280;\n        }\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Mapbox.messages().key();\n        return;\n      }\n      this.options.username != undefined ? this.imgUrl += this.options.username + '/' : this.imgUrl += 'mapbox/';\n      this.options.style != undefined ? this.imgUrl += this.options.style + '/' : this.imgUrl += 'streets-v10/';\n      this.imgUrl += 'static/';\n      this.options.overlay != undefined && (this.imgUrl += this.options.overlay + '/');\n      this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n      this.options.auto == false || this.options.auto == undefined ? ['zoom', 'bearing', 'pitch'].forEach(function (e, i) {\n        _this2.options[e] != undefined ? _this2.imgUrl += _this2.options[e] : _this2.imgUrl += 0;\n        i < 2 && (_this2.imgUrl += ',');\n      }) : this.imgUrl += 'auto';\n      this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n      this.options.scale == 2 && (this.imgUrl += '@2x');\n      this.imgUrl += '?access_token=' + this.options.key;\n      this.options.attribution ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n      this.options.logo ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n      this.options.before_layer ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          return console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapbox Static API max ' + s + ' value is 1280px. If you want a large image change the scale to 2.');\n        },\n        key: function key() {\n          console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_StaticMap2.StaticMap);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapquest = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nvar Mapquest = function (_StaticMap) {\n  _inherits(Mapquest, _StaticMap);\n\n  function Mapquest(options) {\n    _classCallCheck(this, Mapquest);\n\n    var _this = _possibleConstructorReturn(this, (Mapquest.__proto__ || Object.getPrototypeOf(Mapquest)).call(this, options));\n\n    _this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    _this.init();\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapquest, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 1920) {\n        Mapquest.messages().size('width', this.options.width);\n        this.options.width = 1920;\n      }\n      if (this.options.height > 1920) {\n        Mapquest.messages().size('height', this.options.height);\n        this.options.height = 1920;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      if (!this.options.key) {\n        Mapquest.messages().key();\n        return;\n      }\n\n      this.options.size = this.options.width + ',' + this.options.height;\n      this.options.scale == 2 && (this.options.size += '@2x');\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n      for (var option in this.options) {\n        Mapquest.options().valid.indexOf(option) > -1 && (this.imgUrl += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['key', 'size', 'zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapquest Static API max ' + s + ' value is 1920px. For larger images, change the scale to 2 and keep the ' + s + ' between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/');\n        }\n      };\n    }\n  }]);\n\n  return Mapquest;\n}(_StaticMap2.StaticMap);\n\nexports.Mapquest = Mapquest;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nvar Google = function (_TileMap) {\n  _inherits(Google, _TileMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.script = 'https://maps.googleapis.com/maps/api/js';\n    _this.options.key && (_this.script += '?key=' + _this.options.key);\n    _this.options.language && (_this.script += '&language=' + _this.options.language);\n    _this.options.region && (_this.script += '&region=' + _this.options.region);\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      !this.options.key && Google.messages().key();\n\n      this.map = new google.maps.Map(document.getElementById('mappa'), {\n        center: { lat: this.options.lat, lng: this.options.lng },\n        zoom: this.options.zoom || 6,\n        mapTypeId: this.options.maptype || 'terrain',\n        styles: this.options.styles || ''\n      });\n\n      var overlay = new google.maps.OverlayView();\n      overlay.draw = function () {};\n      overlay.setMap(this.map);\n      overlay.onAdd = function () {\n        overlay.getPanes().overlayLayer.appendChild(_this2.canvas.elt);\n      };\n\n      google.maps.event.addListener(this.map, 'bounds_changed', function () {\n        var center = overlay.getProjection().fromLatLngToDivPixel(_this2.map.getCenter());\n        var offsetX = -Math.round(_this2.canvas.width / 2 - center.x);\n        var offsetY = -Math.round(_this2.canvas.height / 2 - center.y);\n        var _canvas = _this2.canvas.elt.getContext('webgl') || _this2.canvas.elt.getContext('2d');\n        _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n      });\n\n      google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        position = new google.maps.LatLng(position);\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = this.map.getProjection().fromLatLngToPoint(position);\n        return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = new google.maps.Point((arguments.length <= 0 ? undefined : arguments[0]) / scale + bottomLeft.x, (arguments.length <= 1 ? undefined : arguments[1]) / scale + topRight.y);\n        var latlng = this.map.getProjection().fromPointToLatLng(point);\n        return { lat: latlng.lat(), lng: latlng.lng() };\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        google.maps.event.addListener(this.map, 'bounds_changed', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_TileMap2.TileMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nvar Mapbox = function (_Leaflet) {\n  _inherits(Mapbox, _Leaflet);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    _this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.mapbox.accessToken = this.options.key;\n      } else {\n        Mapbox.messages().key();\n        return;\n      }\n\n      // Create a Mapbox Map\n      this.map = L.mapbox.map('mappa').setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      this.options.studio ? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n      this.tiles.on('ready', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_Leaflet2.Leaflet);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapboxgl = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nvar Mapboxgl = function (_TileMap) {\n  _inherits(Mapboxgl, _TileMap);\n\n  function Mapboxgl(options) {\n    _classCallCheck(this, Mapboxgl);\n\n    var _this = _possibleConstructorReturn(this, (Mapboxgl.__proto__ || Object.getPrototypeOf(Mapboxgl)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    _this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    !_this.options.key ? Mapboxgl.messages().key() : _this.init();\n    return _this;\n  }\n\n  _createClass(Mapboxgl, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      mapboxgl.accessToken = this.options.key;\n      this.map = new mapboxgl.Map({\n        container: 'mappa',\n        style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n        center: [this.options.lng, this.options.lat],\n        zoom: this.options.zoom,\n        minZoom: this.options.minZoom || 0,\n        maxZoom: this.options.maxZoom || 22,\n        bearing: this.options.bearing || 0,\n        pitch: this.options.pitch || 0,\n        renderWorldCopies: true && this.options.renderWorldCopies,\n        maxBounds: this.options.maxBounds || undefined\n      });\n      this.canvas.parent(this.map.getCanvasContainer());\n      this.canvas.elt.style.position = 'absolute';\n\n      this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n      this.map.on('load', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(latLng) {\n      if (this.ready) {\n        return this.map.project(latLng);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.unproject(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('render', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/');\n        }\n      };\n    }\n  }]);\n\n  return Mapboxgl;\n}(_TileMap2.TileMap);\n\nexports.Mapboxgl = Mapboxgl;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapzen = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nvar Mapzen = function (_Leaflet) {\n  _inherits(Mapzen, _Leaflet);\n\n  function Mapzen(options) {\n    _classCallCheck(this, Mapzen);\n\n    var _this = _possibleConstructorReturn(this, (Mapzen.__proto__ || Object.getPrototypeOf(Mapzen)).call(this, options));\n\n    _this.script = 'https://mapzen.com/js/mapzen.min.js';\n    _this.style = 'https://mapzen.com/js/mapzen.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapzen, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.Mapzen.apiKey = this.options.key;\n      } else {\n        Mapzen.messages().key();\n        return;\n      }\n\n      // Create a Mapzen Map\n      this.map = L.Mapzen.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        tangramOptions: {\n          scene: this.options.BasemapStyles ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene\n        }\n      });\n      this.map.on('tangramloaded', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Mapzen;\n}(_Leaflet2.Leaflet);\n\nexports.Mapzen = Mapzen;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tangram = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nvar Tangram = function (_Leaflet) {\n  _inherits(Tangram, _Leaflet);\n\n  function Tangram(options) {\n    _classCallCheck(this, Tangram);\n\n    var _this = _possibleConstructorReturn(this, (Tangram.__proto__ || Object.getPrototypeOf(Tangram)).call(this, options));\n\n    _this.options.provider = 'Leaflet';\n    _this.init();\n    _this.options.provider = 'Tangram';\n    _this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Tangram, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      // Create a Tangram Map\n      this.map = L.map('mappa');\n      this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n      });\n      this.tangramScene.addTo(this.map);\n      this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      this.tangramScene.scene.subscribe({ load: function load() {\n          _this2.ready = true;\n        } });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Tangram;\n}(_Leaflet2.Leaflet);\n\nexports.Tangram = Tangram;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mappa.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3d318f87b1c236deee32","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n    this.init();\n  }\n\n  init(){\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        this.options.height = 1280;\n      }\n    }\n  }\n\n  latLngToPixel(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2/this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2/this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (radians(l) + PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap () {\n    // Check this when not using a map in the background\n    if(!this.options.style){\n      Leaflet.messages().tiles();\n      return\n    }\n\n    this.map = L.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      inertia: false,\n    });\n\n    this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n    this.tiles.on('tileload', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  canvasOverlay () {\n    if(this.tiles){\n      this.tiles.options.opacity = this.options.opacity;\n      // Add this to documentation -> background color of the map.\n      document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas.elt);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {},\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return {x:containerPoint.x, y:containerPoint.y};\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.containerPointToLatLng(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('move', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      tiles: () => {console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png')}\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  overlay(canvas){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n      div.setAttribute('id', 'mappa');\n      this.canvas = canvas;\n      this.createMap();\n    };\n  }\n\n  latLngToPixel(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  pixelToLatLng(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\nexport * from './providers/static/StaticMap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n\n    this.provider == undefined && (this.provider = 'StaticMap');\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options;\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.imgUrl += this.options.username + '/': this.imgUrl += 'mapbox/';\n    (this.options.style != undefined) ? this.imgUrl += this.options.style + '/': this.imgUrl += 'streets-v10/';\n    this.imgUrl += 'static/';\n    (this.options.overlay != undefined) && (this.imgUrl += this.options.overlay + '/');\n    this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.imgUrl += this.options[e] : this.imgUrl += 0;\n      i < 2 && (this.imgUrl += ',');\n    }) : this.imgUrl += 'auto';\n    this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.imgUrl += '@2x');\n    this.imgUrl += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n    (this.options.logo) ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n    (this.options.before_layer) ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n    return this.imgUrl\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas.elt);\n    }\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let offsetX = - Math.round(this.canvas.width / 2 - center.x);\n      let offsetY = - Math.round(this.canvas.height / 2 - center.y);\n      let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      google.maps.event.addListener(this.map, 'bounds_changed', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n    this.canvas.parent(this.map.getCanvasContainer());\n    this.canvas.elt.style.position = 'absolute';\n\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}