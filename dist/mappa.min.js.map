{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///mappa.min.js","webpack:///webpack/bootstrap e4e102b9de02e3cdd7f2","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","Leaflet","undefined","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","_TileMap2","_TileMap","options","_this","getPrototypeOf","script","style","init","_this2","messages","tiles","map","L","center","lat","lng","zoom","inertia","tileLayer","addTo","on","ready","canvasOverlay","_this3","opacity","document","getElementsByClassName","background","backgroundColor","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","appendChild","canvas","elt","drawLayer","addLayer","_canvas","getContext","dragging","_draggable","_newPos","transform","x","y","position","containerPoint","latLngToContainerPoint","_len","arguments","args","Array","_key","containerPointToLatLng","getZoom","callback","_this4","setTimeout","onChange","console","warn","TileMap","StaticMap","_parseGeoJSON","fromLngToPoint","width","scale","fromLatToPoint","height","pixels","PI","pow","log","tan","radians","parseGeoJSON","_typeof","Symbol","iterator","obj","scriptTag","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","apply","Math","floor","data","result","features","forEach","feature","f","eachFeature","push","geometry","coordinates","geometries","_Mapbox","keys","_Google","_Mapquest","_Mapboxgl","_Leaflet","_Mapzen","_Tangram","_interopRequireWildcard","newObj","default","_tileMap2","tileMap","_staticMap2","staticMap","Mappa","assign","_options","userInput","el","option","_len2","_key2","Google","_StaticMap2","_StaticMap","url","img","createImage","size","valid","indexOf","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","google","maps","Map","mapTypeId","maptype","styles","OverlayView","draw","setMap","getPanes","overlayLayer","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","_Leaflet2","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","minZoom","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","parent","getCanvasContainer","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","window","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Leaflet = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nvar Leaflet = function (_TileMap) {\n  _inherits(Leaflet, _TileMap);\n\n  function Leaflet(options) {\n    _classCallCheck(this, Leaflet);\n\n    var _this = _possibleConstructorReturn(this, (Leaflet.__proto__ || Object.getPrototypeOf(Leaflet)).call(this, options));\n\n    _this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    _this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    _this.constructor.name == 'Leaflet' && _this.init();\n    return _this;\n  }\n\n  _createClass(Leaflet, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (!this.options.style) {\n        Leaflet.messages().tiles();\n        return;\n      }\n\n      this.map = L.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        inertia: false\n      });\n      this.map;\n      this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n      this.tiles.on('tileload', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }, {\n    key: 'canvasOverlay',\n    value: function canvasOverlay() {\n      var _this3 = this;\n\n      if (this.tiles) {\n        this.tiles.options.opacity = this.options.opacity;\n        document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n      }\n\n      L.overlay = L.Layer.extend({\n        onAdd: function onAdd() {\n          var overlayPane = overlay.getPane();\n          var _container = L.DomUtil.create('div', 'leaflet-layer');\n          _container.appendChild(_this3.canvas.elt);\n          overlayPane.appendChild(_container);\n        },\n        drawLayer: function drawLayer() {}\n      });\n\n      var overlay = new L.overlay();\n      this.map.addLayer(overlay);\n\n      var _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      this.map.on('move', function () {\n        var d = _this3.map.dragging._draggable;\n        d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        var containerPoint = this.map.latLngToContainerPoint(position);\n        return { x: containerPoint.x, y: containerPoint.y };\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.containerPointToLatLng(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this4 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('move', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this4.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        tiles: function tiles() {\n          console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png');\n        }\n      };\n    }\n  }]);\n\n  return Leaflet;\n}(_TileMap2.TileMap);\n\nexports.Leaflet = Leaflet;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticMap = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Static Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StaticMap = function () {\n  function StaticMap(options) {\n    _classCallCheck(this, StaticMap);\n\n    this.options = options;\n  }\n\n  _createClass(StaticMap, [{\n    key: 'latLng',\n    value: function latLng(lat, lng) {\n      return {\n        x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width / (2 / this.options.scale),\n        y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height / (2 / this.options.scale)\n      };\n    }\n  }, {\n    key: 'fromLatToPoint',\n    value: function fromLatToPoint(l) {\n      return this.options.pixels / PI * pow(2, this.options.zoom) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n    }\n  }, {\n    key: 'fromLngToPoint',\n    value: function fromLngToPoint(l) {\n      return this.options.pixels / PI * pow(2, this.options.zoom) * (radians(l) + PI);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }]);\n\n  return StaticMap;\n}();\n\nexports.StaticMap = StaticMap;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TileMap = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Tiled Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TileMap = function () {\n  function TileMap(options) {\n    _classCallCheck(this, TileMap);\n\n    this.options = options;\n    this.scriptTag;\n  }\n\n  _createClass(TileMap, [{\n    key: 'init',\n    value: function init() {\n      if (!document.getElementById(this.options.provider)) {\n        this.scriptTag = document.createElement('script');\n        this.scriptTag.type = 'text/javascript';\n        this.scriptTag.src = this.script;\n        this.scriptTag.id = this.options.provider;\n        document.head.appendChild(this.scriptTag);\n        if (this.style) {\n          var styleTag = document.createElement('link');\n          styleTag.rel = 'stylesheet';\n          styleTag.href = this.style;\n          document.head.appendChild(styleTag);\n        }\n      }\n    }\n  }, {\n    key: 'append',\n    value: function append(canvas) {\n      var _this = this;\n\n      this.scriptTag.onload = function () {\n        var div = document.createElement('div');\n        document.body.appendChild(div);\n        div.setAttribute('style', 'position:relative;width:' + canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n        div.setAttribute('id', 'mappa');\n        _this.canvas = canvas;\n        _this.createMap();\n      };\n    }\n  }, {\n    key: 'latLng',\n    value: function latLng() {\n      var pos = void 0;\n      _typeof(arguments.length <= 0 ? undefined : arguments[0]) == 'object' ? pos = arguments.length <= 0 ? undefined : arguments[0] : pos = { lat: Number(arguments.length <= 0 ? undefined : arguments[0]), lng: Number(arguments.length <= 1 ? undefined : arguments[1]) };\n      return this.fromLatLngtoPixel(pos);\n    }\n  }, {\n    key: 'point',\n    value: function point() {\n      return this.fromPointToLatLng.apply(this, arguments);\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON.parseGeoJSON)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom() {\n      return Math.floor(this.getZoom());\n    }\n  }]);\n\n  return TileMap;\n}();\n\nexports.TileMap = TileMap;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// -----------\n// Parse a GeoJSON file.\n// -----------\n\nvar parseGeoJSON = function parseGeoJSON(data, type) {\n  var result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function (feature) {\n        var f = eachFeature(feature, type);\n        f != undefined && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n};\n\nvar eachFeature = function eachFeature(feature, type) {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach(function (geometry) {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n};\n\nexports.parseGeoJSON = parseGeoJSON;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapbox = __webpack_require__(8);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(7);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Mapquest = __webpack_require__(9);\n\nObject.keys(_Mapquest).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapquest[key];\n    }\n  });\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Mapboxgl = __webpack_require__(12);\n\nObject.keys(_Mapboxgl).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapboxgl[key];\n    }\n  });\n});\n\nvar _Google = __webpack_require__(10);\n\nObject.keys(_Google).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Google[key];\n    }\n  });\n});\n\nvar _Leaflet = __webpack_require__(0);\n\nObject.keys(_Leaflet).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Leaflet[key];\n    }\n  });\n});\n\nvar _Mapbox = __webpack_require__(11);\n\nObject.keys(_Mapbox).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapbox[key];\n    }\n  });\n});\n\nvar _Mapzen = __webpack_require__(13);\n\nObject.keys(_Mapzen).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Mapzen[key];\n    }\n  });\n});\n\nvar _Tangram = __webpack_require__(14);\n\nObject.keys(_Tangram).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Tangram[key];\n    }\n  });\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristbal Valenzuela\n* Google Summer of Code 2017\n*/\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tileMap2 = __webpack_require__(5);\n\nvar _tileMap = _interopRequireWildcard(_tileMap2);\n\nvar _staticMap2 = __webpack_require__(4);\n\nvar _staticMap = _interopRequireWildcard(_staticMap2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nvar Mappa = function () {\n  function Mappa(provider, key) {\n    _classCallCheck(this, Mappa);\n\n    this.provider = provider;\n    this.key = key;\n  }\n\n  _createClass(Mappa, [{\n    key: 'staticMap',\n    value: function staticMap() {\n      var options = {};\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        var _options = _staticMap[this.provider].options().userInput;\n        args.forEach(function (el, i) {\n          var option = _options[i];\n          options[option] = el;\n        });\n      };\n      options.key = this.key;\n      return new _staticMap[this.provider](options);\n    }\n  }, {\n    key: 'tileMap',\n    value: function tileMap() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var options = void 0;\n\n      if (_typeof(args[0]) == 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        ['lat', 'lng', 'zoom'].forEach(function (el, i) {\n          options[el] = args[i];\n        });\n      };\n      options.key = this.key;\n      options.provider = this.provider;\n      return new _tileMap[this.provider](options);\n    }\n  }]);\n\n  return Mappa;\n}();\n\nmodule.exports = Mappa;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nvar Google = function (_StaticMap) {\n  _inherits(Google, _StaticMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.url = 'https://maps.googleapis.com/maps/api/staticmap?';\n    _this.init();\n    _this.img = _this.createImage();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 640) {\n        Google.messages().size('width', this.options.width);\n        this.options.width = 640;\n      }\n      if (this.options.height > 640) {\n        Google.messages().size('height', this.options.height);\n        this.options.height = 640;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      !this.options.key && delete this.options.key && Google.messages().key();\n\n      this.options.size = this.options.width + 'x' + this.options.height;\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n      !this.options.scale && (this.options.scale = 1);\n\n      for (var option in this.options) {\n        Google.options().valid.indexOf(option) > -1 && (this.url += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.url;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Google Maps Static API max ' + s + ' value is 640px. For larger images, change the scale to 2 and keep the ' + s + ' between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('For large requests please provide an API key for your Google Maps Static API.');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_StaticMap2.StaticMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nvar Mapbox = function (_StaticMap) {\n  _inherits(Mapbox, _StaticMap);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.url = 'https://api.mapbox.com/styles/v1/';\n    _this.init();\n    _this.img = _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      !this.options.scale && (this.options.scale = 1);\n      if (this.options.scale == 2) {\n        this.options.pixels = 512;\n      } else {\n        if (this.options.width > 1280) {\n          Mapbox.messages().size('width', this.options.width);\n          this.options.width = 1280;\n        }\n        if (this.options.height > 1280) {\n          Mapbox.messages().size('height', this.options.width);\n          this.options.height = 1280;\n        }\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Mapbox.messages().key();\n        return;\n      }\n      this.options.username != undefined ? this.url += this.options.username + '/' : this.url += 'mapbox/';\n      this.options.style != undefined ? this.url += this.options.style + '/' : this.url += 'streets-v10/';\n      this.url += 'static/';\n      this.options.overlay != undefined && (this.url += this.options.overlay + '/');\n      this.url += this.options.lng + ',' + this.options.lat + ',';\n      this.options.auto == false || this.options.auto == undefined ? ['zoom', 'bearing', 'pitch'].forEach(function (e, i) {\n        _this2.options[e] != undefined ? _this2.url += _this2.options[e] : _this2.url += 0;\n        i < 2 && (_this2.url += ',');\n      }) : this.url += 'auto';\n      this.url += '/' + this.options.width + 'x' + this.options.height;\n      this.options.scale == 2 && (this.url += '@2x');\n      this.url += '?access_token=' + this.options.key;\n      this.options.attribution ? this.url += '&attribution=' + this.options.attribution : this.url += '&attribution=false';\n      this.options.logo ? this.url += '&logo=' + this.options.logo : this.url += '&logo=false';\n      this.options.before_layer ? this.url += '&before_layer=' + this.options.before_layer : this.url += '&before_layer=false';\n      return this.url;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          return console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapbox Static API max ' + s + ' value is 1280px. If you want a large image change the scale to 2.');\n        },\n        key: function key() {\n          console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_StaticMap2.StaticMap);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapquest = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(1);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nvar Mapquest = function (_StaticMap) {\n  _inherits(Mapquest, _StaticMap);\n\n  function Mapquest(options) {\n    _classCallCheck(this, Mapquest);\n\n    var _this = _possibleConstructorReturn(this, (Mapquest.__proto__ || Object.getPrototypeOf(Mapquest)).call(this, options));\n\n    _this.url = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    _this.init();\n    _this.img = _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapquest, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale == 1 || this.options.scale == undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale == 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 1920) {\n        Mapquest.messages().size('width', this.options.width);\n        this.options.width = 1920;\n      }\n      if (this.options.height > 1920) {\n        Mapquest.messages().size('height', this.options.height);\n        this.options.height = 1920;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      if (!this.options.key) {\n        Mapquest.messages().key();\n        return;\n      }\n\n      this.options.size = this.options.width + ',' + this.options.height;\n      this.options.scale == 2 && (this.options.size += '@2x');\n      !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n      for (var option in this.options) {\n        Mapquest.options().valid.indexOf(option) > -1 && (this.url += '&' + option + '=' + this.options[option]);\n      }\n\n      return this.url;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['key', 'size', 'zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapquest Static API max ' + s + ' value is 1920px. For larger images, change the scale to 2 and keep the ' + s + ' between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/');\n        }\n      };\n    }\n  }]);\n\n  return Mapquest;\n}(_StaticMap2.StaticMap);\n\nexports.Mapquest = Mapquest;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Google = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nvar Google = function (_TileMap) {\n  _inherits(Google, _TileMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.script = 'https://maps.googleapis.com/maps/api/js';\n    _this.options.key && (_this.script += '?key=' + _this.options.key);\n    _this.options.language && (_this.script += '&language=' + _this.options.language);\n    _this.options.region && (_this.script += '&region=' + _this.options.region);\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      !this.options.key && Google.messages().key();\n\n      this.map = new google.maps.Map(document.getElementById('mappa'), {\n        center: { lat: this.options.lat, lng: this.options.lng },\n        zoom: this.options.zoom || 6,\n        mapTypeId: this.options.maptype || 'terrain',\n        styles: this.options.styles || ''\n      });\n\n      var overlay = new google.maps.OverlayView();\n      overlay.draw = function () {};\n      overlay.setMap(this.map);\n      overlay.onAdd = function () {\n        overlay.getPanes().overlayLayer.appendChild(_this2.canvas.elt);\n      };\n\n      google.maps.event.addListener(this.map, 'bounds_changed', function () {\n        var center = overlay.getProjection().fromLatLngToDivPixel(_this2.map.getCenter());\n        var offsetX = -Math.round(_this2.canvas.width / 2 - center.x);\n        var offsetY = -Math.round(_this2.canvas.height / 2 - center.y);\n        var _canvas = _this2.canvas.elt.getContext('webgl') || _this2.canvas.elt.getContext('2d');\n        _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n      });\n\n      google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(position) {\n      if (this.ready) {\n        position = new google.maps.LatLng(position);\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = this.map.getProjection().fromLatLngToPoint(position);\n        return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = new google.maps.Point((arguments.length <= 0 ? undefined : arguments[0]) / scale + bottomLeft.x, (arguments.length <= 1 ? undefined : arguments[1]) / scale + topRight.y);\n        var latlng = this.map.getProjection().fromPointToLatLng(point);\n        return { lat: latlng.lat(), lng: latlng.lng() };\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        google.maps.event.addListener(this.map, 'bounds_changed', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_TileMap2.TileMap);\n\nexports.Google = Google;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nvar Mapbox = function (_Leaflet) {\n  _inherits(Mapbox, _Leaflet);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    _this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.mapbox.accessToken = this.options.key;\n      } else {\n        Mapbox.messages().key();\n        return;\n      }\n\n      // Create a Mapbox Map\n      this.map = L.mapbox.map('mappa').setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      this.options.studio ? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n      this.tiles.on('ready', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_Leaflet2.Leaflet);\n\nexports.Mapbox = Mapbox;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapboxgl = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nvar Mapboxgl = function (_TileMap) {\n  _inherits(Mapboxgl, _TileMap);\n\n  function Mapboxgl(options) {\n    _classCallCheck(this, Mapboxgl);\n\n    var _this = _possibleConstructorReturn(this, (Mapboxgl.__proto__ || Object.getPrototypeOf(Mapboxgl)).call(this, options));\n\n    _this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    _this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    !_this.options.key ? Mapboxgl.messages().key() : _this.init();\n    return _this;\n  }\n\n  _createClass(Mapboxgl, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      mapboxgl.accessToken = this.options.key;\n      this.map = new mapboxgl.Map({\n        container: 'mappa',\n        style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n        center: [this.options.lng, this.options.lat],\n        zoom: this.options.zoom,\n        minZoom: this.options.minZoom || 0,\n        maxZoom: this.options.maxZoom || 22,\n        bearing: this.options.bearing || 0,\n        pitch: this.options.pitch || 0,\n        renderWorldCopies: true && this.options.renderWorldCopies,\n        maxBounds: this.options.maxBounds || undefined\n      });\n      this.canvas.parent(this.map.getCanvasContainer());\n      this.canvas.elt.style.position = 'absolute';\n\n      this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n      this.map.on('load', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngtoPixel',\n    value: function fromLatLngtoPixel(latLng) {\n      if (this.ready) {\n        return this.map.project(latLng);\n      } else {\n        return { x: -100, y: -100 };\n      }\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.unproject(args);\n      } else {\n        return { lat: -100, lng: -100 };\n      }\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('render', function () {\n          callback();\n        });\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/');\n        }\n      };\n    }\n  }]);\n\n  return Mapboxgl;\n}(_TileMap2.TileMap);\n\nexports.Mapboxgl = Mapboxgl;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapzen = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nvar Mapzen = function (_Leaflet) {\n  _inherits(Mapzen, _Leaflet);\n\n  function Mapzen(options) {\n    _classCallCheck(this, Mapzen);\n\n    var _this = _possibleConstructorReturn(this, (Mapzen.__proto__ || Object.getPrototypeOf(Mapzen)).call(this, options));\n\n    _this.script = 'https://mapzen.com/js/mapzen.min.js';\n    _this.style = 'https://mapzen.com/js/mapzen.css';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Mapzen, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.Mapzen.apiKey = this.options.key;\n      } else {\n        Mapzen.messages().key();\n        return;\n      }\n\n      // Create a Mapzen Map\n      this.map = L.Mapzen.map('mappa', {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        tangramOptions: {\n          scene: this.options.BasemapStyles ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene\n        }\n      });\n      this.map.on('tangramloaded', function () {\n        _this2.ready = true;\n      });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Mapzen;\n}(_Leaflet2.Leaflet);\n\nexports.Mapzen = Mapzen;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tangram = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nvar Tangram = function (_Leaflet) {\n  _inherits(Tangram, _Leaflet);\n\n  function Tangram(options) {\n    _classCallCheck(this, Tangram);\n\n    var _this = _possibleConstructorReturn(this, (Tangram.__proto__ || Object.getPrototypeOf(Tangram)).call(this, options));\n\n    _this.options.provider = 'Leaflet';\n    _this.init();\n    _this.options.provider = 'Tangram';\n    _this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    _this.init();\n    return _this;\n  }\n\n  _createClass(Tangram, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      // Create a Tangram Map\n      this.map = L.map('mappa');\n      this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n      });\n      this.tangramScene.addTo(this.map);\n      this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      this.tangramScene.scene.subscribe({ load: function load() {\n          _this2.ready = true;\n        } });\n\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a API key for your Mapzen map.');\n        }\n      };\n    }\n  }]);\n\n  return Tangram;\n}(_Leaflet2.Leaflet);\n\nexports.Tangram = Tangram;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// mappa.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4e102b9de02e3cdd7f2","// -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap () {\n    if(!this.options.style){\n      Leaflet.messages().tiles();\n      return\n    }\n\n    this.map = L.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      inertia: false,\n    });\n    this.map\n    this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n    this.tiles.on('tileload', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  canvasOverlay () {\n    if(this.tiles){\n      this.tiles.options.opacity = this.options.opacity;\n      document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas.elt);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {},\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return {x:containerPoint.x, y:containerPoint.y};\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.containerPointToLatLng(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('move', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      tiles: () => {console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png')}\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n  }\n\n  latLng(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2/this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2/this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (radians(l) + PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  append(canvas){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n      div.setAttribute('id', 'mappa');\n      this.canvas = canvas;\n      this.createMap();\n    };\n  }\n\n  latLng(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  point(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristbal Valenzuela\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options;\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.url += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.url\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://api.mapbox.com/styles/v1/';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.url += this.options.username + '/': this.url += 'mapbox/';\n    (this.options.style != undefined) ? this.url += this.options.style + '/': this.url += 'streets-v10/';\n    this.url += 'static/';\n    (this.options.overlay != undefined) && (this.url += this.options.overlay + '/');\n    this.url += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.url += this.options[e] : this.url += 0;\n      i < 2 && (this.url += ',');\n    }) : this.url += 'auto';\n    this.url += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.url += '@2x');\n    this.url += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.url += '&attribution=' + this.options.attribution : this.url += '&attribution=false';\n    (this.options.logo) ? this.url += '&logo=' + this.options.logo : this.url += '&logo=false';\n    (this.options.before_layer) ? this.url += '&before_layer=' + this.options.before_layer : this.url += '&before_layer=false';\n    return this.url\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.url += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.url\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas.elt);\n    }\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let offsetX = - Math.round(this.canvas.width / 2 - center.x);\n      let offsetY = - Math.round(this.canvas.height / 2 - center.y);\n      let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      google.maps.event.addListener(this.map, 'bounds_changed', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n    this.canvas.parent(this.map.getCanvasContainer());\n    this.canvas.elt.style.position = 'absolute';\n\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}