!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Mappa=e():t.Mappa=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=6)}([function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Leaflet=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(2),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.script="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js",o.style="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css","Leaflet"==o.constructor.name&&o.init(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;if(!this.options.style)return void e.messages().tiles();this.map=L.map("mappa",{center:[this.options.lat,this.options.lng],zoom:this.options.zoom,inertia:!1}),this.tiles=L.tileLayer(this.options.style).addTo(this.map),this.tiles.on("tileload",function(){t.ready=!0}),this.canvasOverlay()}},{key:"canvasOverlay",value:function(){var t=this;this.tiles&&(this.tiles.options.opacity=this.options.opacity,document.getElementsByClassName("leaflet-container")[0].style.background=this.options.backgroundColor),L.overlay=L.Layer.extend({onAdd:function(){var o=e.getPane(),n=L.DomUtil.create("div","leaflet-layer");n.appendChild(t.canvas.elt),o.appendChild(n)},drawLayer:function(){}});var e=new L.overlay;this.map.addLayer(e);var o=this.canvas.elt.getContext("webgl")||this.canvas.elt.getContext("2d");this.map.on("move",function(){var e=t.map.dragging._draggable;e._newPos&&(o.canvas.style.transform="translate("+-e._newPos.x+"px,"+-e._newPos.y+"px)")})}},{key:"fromLatLngtoPixel",value:function(t){if(this.ready){var e=this.map.latLngToContainerPoint(t);return{x:e.x,y:e.y}}return{x:-100,y:-100}}},{key:"fromPointToLatLng",value:function(){if(this.ready){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.map.containerPointToLatLng(e)}return{lat:-100,lng:-100}}},{key:"getZoom",value:function(){return this.ready?this.map.getZoom():0}},{key:"onChange",value:function(t){var e=this;this.ready?(t(),this.map.on("move",function(){t()})):setTimeout(function(){e.onChange(t)},200)}}],[{key:"messages",value:function(){return{tiles:function(){console.warn("You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png")}}}}]),e}(s.TileMap);e.Leaflet=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.StaticMap=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),r=o(3),a=function(){function t(e){n(this,t),this.options=e}return i(t,[{key:"latLngToPixel",value:function(t,e){return{x:this.fromLngToPoint(e)-this.fromLngToPoint(this.options.lng)+this.options.width/(2/this.options.scale),y:this.fromLatToPoint(t)-this.fromLatToPoint(this.options.lat)+this.options.height/(2/this.options.scale)}}},{key:"fromLatToPoint",value:function(t){return this.options.pixels/PI*pow(2,this.options.zoom)*(PI-log(tan(PI/4+radians(t)/2)))}},{key:"fromLngToPoint",value:function(t){return this.options.pixels/PI*pow(2,this.options.zoom)*(radians(t)+PI)}},{key:"geoJSON",value:function(){return(0,r.parseGeoJSON)(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}}]),t}();e.StaticMap=a},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.TileMap=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),a=o(3),s=function(){function t(e){n(this,t),this.options=e,this.scriptTag}return r(t,[{key:"init",value:function(){if(!document.getElementById(this.options.provider)&&(this.scriptTag=document.createElement("script"),this.scriptTag.type="text/javascript",this.scriptTag.src=this.script,this.scriptTag.id=this.options.provider,document.head.appendChild(this.scriptTag),this.style)){var t=document.createElement("link");t.rel="stylesheet",t.href=this.style,document.head.appendChild(t)}}},{key:"overlay",value:function(t){var e=this;this.scriptTag.onload=function(){var o=document.createElement("div");document.body.appendChild(o),o.setAttribute("style","position:relative;width:"+t.width+"px;height:"+t.height+"px;top:0;left:0;z-index:999"),o.setAttribute("id","mappa"),e.canvas=t,e.createMap()}}},{key:"latLngToPixel",value:function(){var t=void 0;return t="object"==i(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:{lat:Number(arguments.length<=0?void 0:arguments[0]),lng:Number(arguments.length<=1?void 0:arguments[1])},this.fromLatLngtoPixel(t)}},{key:"pixelToLatLng",value:function(){return this.fromPointToLatLng.apply(this,arguments)}},{key:"geoJSON",value:function(){return(0,a.parseGeoJSON)(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},{key:"zoom",value:function(){return Math.floor(this.getZoom())}}]),t}();e.TileMap=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var o=[];return"FeatureCollection"===t.type?t.features instanceof Array&&t.features.forEach(function(t){var n=i(t,e);void 0!=n&&o.push(n)}):o=i(t,e),o},i=function(t,e){if(t.hasOwnProperty("geometry")&&t.geometry.type==e)return t.geometry.coordinates;if(t.hasOwnProperty("geometries")&&t.geometries instanceof Array&&t.geometry.type==e)t.geometries.forEach(function(e){return t.geometry.coordinates});else if(t.hasOwnProperty("coordinates")&&t.geometry.type==e)return t.geometry.coordinates};e.parseGeoJSON=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(8);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=o(7);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=o(9);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(12);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var i=o(10);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var r=o(0);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})});var a=o(11);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=o(13);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var p=o(14);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})},function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(5),p=n(s),u=o(4),c=n(u);console.log("%c p5.maps Loaded âœ“","color:white; background:green;");var l=function(){function t(e,o){i(this,t),this.provider=e,this.key=o}return a(t,[{key:"staticMap",value:function(){for(var t={},e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];if("object"==r(o[0]))t=Object.assign({},o[0]);else{var i=c[this.provider].options().userInput;o.forEach(function(e,o){var n=i[o];t[n]=e})}return t.key=this.key,new c[this.provider](t)}},{key:"tileMap",value:function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];var n=void 0;return"object"==r(e[0])?n=Object.assign({},e[0]):["lat","lng","zoom"].forEach(function(t,o){n[t]=e[o]}),n.key=this.key,n.provider=this.provider,new p[this.provider](n)}}]),t}();t.exports=l},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Google=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(1),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.imgUrl="https://maps.googleapis.com/maps/api/staticmap?",o.init(),o.createImage(),o}return r(e,t),a(e,[{key:"init",value:function(){1==this.options.scale||void 0==this.options.scale?(this.options.pixels=128,this.options.scale=1):2==this.options.scale&&(this.options.pixels=256),this.options.width>640&&(e.messages().size("width",this.options.width),this.options.width=640),this.options.height>640&&(e.messages().size("height",this.options.height),this.options.height=640)}},{key:"createImage",value:function(){!this.options.key&&delete this.options.key&&e.messages().key(),this.options.size=this.options.width+"x"+this.options.height,!this.options.center&&(this.options.center=this.options.lat+","+this.options.lng),!this.options.scale&&(this.options.scale=1);for(var t in this.options)e.options().valid.indexOf(t)>-1&&(this.imgUrl+="&"+t+"="+this.options[t]);return this.imgUrl}}],[{key:"options",value:function(){return{valid:["center","zoom","size","scale","format","maptype","language","region","markers","path","visible","style","signature","key","signature"],userInput:["lat","lng","zoom","width","height","scale","format","maptype","language","region","markers","path","visible","style","key","signature","center"]}}},{key:"messages",value:function(){return{size:function(t,e){console.warn("You requested an image with a "+t+" of "+e+"px. Google Maps Static API max "+t+" value is 640px. For larger images, change the scale to 2 and keep the "+t+" between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.")},key:function(){console.warn("For large requests please provide an API key for your Google Maps Static API.")}}}}]),e}(s.StaticMap);e.Google=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Mapbox=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(1),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.imgUrl="https://api.mapbox.com/styles/v1/",o.init(),o.createImage(),o}return r(e,t),a(e,[{key:"init",value:function(){this.options.pixels=256,!this.options.scale&&(this.options.scale=1),2==this.options.scale?this.options.pixels=512:(this.options.width>1280&&(e.messages().size("width",this.options.width),this.options.width=1280),this.options.height>1280&&(e.messages().size("height",this.options.width),this.options.height=1280))}},{key:"createImage",value:function(){var t=this;return this.options.key?(void 0!=this.options.username?this.imgUrl+=this.options.username+"/":this.imgUrl+="mapbox/",void 0!=this.options.style?this.imgUrl+=this.options.style+"/":this.imgUrl+="streets-v10/",this.imgUrl+="static/",void 0!=this.options.overlay&&(this.imgUrl+=this.options.overlay+"/"),this.imgUrl+=this.options.lng+","+this.options.lat+",",0==this.options.auto||void 0==this.options.auto?["zoom","bearing","pitch"].forEach(function(e,o){void 0!=t.options[e]?t.imgUrl+=t.options[e]:t.imgUrl+=0,o<2&&(t.imgUrl+=",")}):this.imgUrl+="auto",this.imgUrl+="/"+this.options.width+"x"+this.options.height,2==this.options.scale&&(this.imgUrl+="@2x"),this.imgUrl+="?access_token="+this.options.key,this.options.attribution?this.imgUrl+="&attribution="+this.options.attribution:this.imgUrl+="&attribution=false",this.options.logo?this.imgUrl+="&logo="+this.options.logo:this.imgUrl+="&logo=false",this.options.before_layer?this.imgUrl+="&before_layer="+this.options.before_layer:this.imgUrl+="&before_layer=false",this.imgUrl):void e.messages().key()}}],[{key:"options",value:function(){return{valid:["lat","lng","zoom","width","height","scale","bearing","pitch","style","username","overlay","attribution","logo","before_layer","center","size"],userInput:["lat","lng","zoom","width","height","scale","bearing","pitch","style","username","overlay","attribution","logo","before_layer","center","size"]}}},{key:"messages",value:function(){return{size:function(t,e){return console.warn("You requested an image with a "+t+" of "+e+"px. Mapbox Static API max "+t+" value is 1280px. If you want a large image change the scale to 2.")},key:function(){console.error("Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static")}}}}]),e}(s.StaticMap);e.Mapbox=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Mapquest=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(1),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.imgUrl="https://www.mapquestapi.com/staticmap/v5/map?",o.init(),o.createImage(),o}return r(e,t),a(e,[{key:"init",value:function(){1==this.options.scale||void 0==this.options.scale?(this.options.pixels=128,this.options.scale=1):2==this.options.scale&&(this.options.pixels=256),this.options.width>1920&&(e.messages().size("width",this.options.width),this.options.width=1920),this.options.height>1920&&(e.messages().size("height",this.options.height),this.options.height=1920)}},{key:"createImage",value:function(){if(!this.options.key)return void e.messages().key();this.options.size=this.options.width+","+this.options.height,2==this.options.scale&&(this.options.size+="@2x"),!this.options.center&&(this.options.center=this.options.lat+","+this.options.lng);for(var t in this.options)e.options().valid.indexOf(t)>-1&&(this.imgUrl+="&"+t+"="+this.options[t]);return this.imgUrl}}],[{key:"options",value:function(){return{valid:["key","size","zoom","center","boundingBox","margin","format","type","scalebar","locations","declutter","defaultMarker","banner","traffic","key"],userInput:["lat","lng","zoom","width","height","scale","boundingBox","margin","format","type","scalebar","locations","declutter","defaultMarker","banner","traffic","key"]}}},{key:"messages",value:function(){return{size:function(t,e){console.warn("You requested an image with a "+t+" of "+e+"px. Mapquest Static API max "+t+" value is 1920px. For larger images, change the scale to 2 and keep the "+t+" between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.")},key:function(){console.warn("Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/")}}}}]),e}(s.StaticMap);e.Mapquest=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Google=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(2),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.script="https://maps.googleapis.com/maps/api/js",o.options.key&&(o.script+="?key="+o.options.key),o.options.language&&(o.script+="&language="+o.options.language),o.options.region&&(o.script+="&region="+o.options.region),o.init(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;!this.options.key&&e.messages().key(),this.map=new google.maps.Map(document.getElementById("mappa"),{center:{lat:this.options.lat,lng:this.options.lng},zoom:this.options.zoom||6,mapTypeId:this.options.maptype||"terrain",styles:this.options.styles||""});var o=new google.maps.OverlayView;o.draw=function(){},o.setMap(this.map),o.onAdd=function(){o.getPanes().overlayLayer.appendChild(t.canvas.elt)},google.maps.event.addListener(this.map,"bounds_changed",function(){var e=o.getProjection().fromLatLngToDivPixel(t.map.getCenter()),n=-Math.round(t.canvas.width/2-e.x),i=-Math.round(t.canvas.height/2-e.y);(t.canvas.elt.getContext("webgl")||t.canvas.elt.getContext("2d")).canvas.style.transform="translate("+n+"px,"+i+"px)"}),google.maps.event.addListenerOnce(this.map,"tilesloaded",function(){t.ready=!0})}},{key:"fromLatLngtoPixel",value:function(t){if(this.ready){t=new google.maps.LatLng(t);var e=this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast()),o=this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest()),n=Math.pow(2,this.map.getZoom()),i=this.map.getProjection().fromLatLngToPoint(t);return new google.maps.Point((i.x-o.x)*n,(i.y-e.y)*n)}return{x:-100,y:-100}}},{key:"fromPointToLatLng",value:function(){if(this.ready){var t=this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast()),e=this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest()),o=Math.pow(2,this.map.getZoom()),n=new google.maps.Point((arguments.length<=0?void 0:arguments[0])/o+e.x,(arguments.length<=1?void 0:arguments[1])/o+t.y),i=this.map.getProjection().fromPointToLatLng(n);return{lat:i.lat(),lng:i.lng()}}return{lat:-100,lng:-100}}},{key:"getZoom",value:function(){return this.ready?this.map.getZoom():0}},{key:"onChange",value:function(t){var e=this;this.ready?(t(),google.maps.event.addListener(this.map,"bounds_changed",function(){t()})):setTimeout(function(){e.onChange(t)},200)}}],[{key:"messages",value:function(){return{key:function(){console.warn("Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ")}}}}]),e}(s.TileMap);e.Google=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Mapbox=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(0),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.script="https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js",o.style="https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css",o.init(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;if(!this.options.key)return void e.messages().key();L.mapbox.accessToken=this.options.key,this.map=L.mapbox.map("mappa").setView([this.options.lat,this.options.lng],this.options.zoom),this.options.studio?this.tiles=L.mapbox.styleLayer(this.options.style||"mapbox://styles/mapbox/emerald-v8").addTo(this.map):this.tiles=L.mapbox.tileLayer(this.options.style||"mapbox.streets").addTo(this.map),this.tiles.on("ready",function(){t.ready=!0}),this.canvasOverlay()}}],[{key:"messages",value:function(){return{key:function(){console.warn("Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1")}}}}]),e}(s.Leaflet);e.Mapbox=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Mapboxgl=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(2),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.script="https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js",o.style="https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css",o.options.key?o.init():e.messages().key(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;mapboxgl.accessToken=this.options.key,this.map=new mapboxgl.Map({container:"mappa",style:this.options.style||"mapbox://styles/mapbox/satellite-streets-v10",center:[this.options.lng,this.options.lat],zoom:this.options.zoom,minZoom:this.options.minZoom||0,maxZoom:this.options.maxZoom||22,bearing:this.options.bearing||0,pitch:this.options.pitch||0,renderWorldCopies:this.options.renderWorldCopies,maxBounds:this.options.maxBounds||void 0}),this.canvas.parent(this.map.getCanvasContainer()),this.canvas.elt.style.position="absolute",this.options.opacity&&(document.getElementsByClassName("mapboxgl-canvas")[0].style.opacity=this.options.opacity),this.map.on("load",function(){t.ready=!0})}},{key:"fromLatLngtoPixel",value:function(t){return this.ready?this.map.project(t):{x:-100,y:-100}}},{key:"fromPointToLatLng",value:function(){if(this.ready){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return this.map.unproject(e)}return{lat:-100,lng:-100}}},{key:"getZoom",value:function(){return this.ready?this.map.getZoom():0}},{key:"onChange",value:function(t){var e=this;this.ready?(t(),this.map.on("render",function(){t()})):setTimeout(function(){e.onChange(t)},200)}}],[{key:"messages",value:function(){return{key:function(){console.warn("Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/")}}}}]),e}(s.TileMap);e.Mapboxgl=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Mapzen=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(0),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.script="https://mapzen.com/js/mapzen.min.js",o.style="https://mapzen.com/js/mapzen.css",o.init(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;if(!this.options.key)return void e.messages().key();L.Mapzen.apiKey=this.options.key,this.map=L.Mapzen.map("mappa",{center:[this.options.lat,this.options.lng],zoom:this.options.zoom,tangramOptions:{scene:this.options.BasemapStyles?L.Mapzen.BasemapStyles[this.options.scene]:this.options.scene}}),this.map.on("tangramloaded",function(){t.ready=!0}),this.canvasOverlay()}}],[{key:"messages",value:function(){return{key:function(){console.warn("Please provide a API key for your Mapzen map.")}}}}]),e}(s.Leaflet);e.Mapzen=p},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Tangram=void 0;var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),s=o(0),p=function(t){function e(t){n(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.options.provider="Leaflet",o.init(),o.options.provider="Tangram",o.script="https://mapzen.com/tangram/tangram.min.js",o.init(),o}return r(e,t),a(e,[{key:"createMap",value:function(){var t=this;this.map=L.map("mappa"),this.tangramScene=window.Tangram.leafletLayer({scene:this.options.scene,attribution:'<a href="https://mapzen.com/tangram" target="_blank">Tangram</a> | &copy; OSM contributors | <a href="https://mapzen.com/" target="_blank">Mapzen</a>'}),this.tangramScene.addTo(this.map),this.map.setView([this.options.lat,this.options.lng],this.options.zoom),this.tangramScene.scene.subscribe({load:function(){t.ready=!0}}),this.canvasOverlay()}}],[{key:"messages",value:function(){return{key:function(){console.warn("Please provide a API key for your Mapzen map.")}}}}]),e}(s.Leaflet);e.Tangram=p}])});
//# sourceMappingURL=mappa.min.js.map